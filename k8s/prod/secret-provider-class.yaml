apiVersion: secrets-store.csi.x-k8s.io/v1
kind: SecretProviderClass
metadata:
  name: fitness-api-prod-secrets
  namespace: fitness-api-prod
spec:
  provider: gcp
  parameters:
    secrets: |
      - resourceName: "projects/ethans-services/secrets/fitness_api_prod_database_url/versions/latest"
        path: "DATABASE_URL"
      - resourceName: "projects/ethans-services/secrets/fitness_api_prod_strava_client_id/versions/latest"
        path: "STRAVA_CLIENT_ID"
      - resourceName: "projects/ethans-services/secrets/fitness_api_prod_strava_client_secret/versions/latest"
        path: "STRAVA_CLIENT_SECRET"
      - resourceName: "projects/ethans-services/secrets/fitness_api_prod_trmnl_api_key/versions/latest"
        path: "TRMNL_API_KEY"
      - resourceName: "projects/ethans-services/secrets/fitness_api_prod_google_client_id/versions/latest"
        path: "GOOGLE_CLIENT_ID"
      - resourceName: "projects/ethans-services/secrets/fitness_api_prod_google_client_secret/versions/latest"
        path: "GOOGLE_CLIENT_SECRET"
      - resourceName: "projects/ethans-services/secrets/fitness_api_prod_hevy_api_key/versions/latest"
        path: "HEVY_API_KEY"
  secretObjects:
    - secretName: fitness-api-prod-secrets
      type: Opaque
      data:
        - objectName: "DATABASE_URL"
          key: DATABASE_URL
        - objectName: "STRAVA_CLIENT_ID"
          key: STRAVA_CLIENT_ID
        - objectName: "STRAVA_CLIENT_SECRET"
          key: STRAVA_CLIENT_SECRET
        - objectName: "TRMNL_API_KEY"
          key: TRMNL_API_KEY
        - objectName: "GOOGLE_CLIENT_ID"
          key: GOOGLE_CLIENT_ID
        - objectName: "GOOGLE_CLIENT_SECRET"
          key: GOOGLE_CLIENT_SECRET
        - objectName: "HEVY_API_KEY"
          key: HEVY_API_KEY
